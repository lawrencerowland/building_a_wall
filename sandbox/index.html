<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contracts as Algebras</title>
  <link rel="stylesheet" href="../common.css" />
</head>
<body>
  <div class="page">
    <nav class="site-nav">
      <a href="../index.html">Home</a>
      <a href="../projects/">Projects</a>
      <a href="../sandbox/">Contracts as Algebras</a>
      <a href="../ai-tools/">AI Tools</a>
      <a href="../systems/">Systems Thinking</a>
      <a href="../lifecycle/">Lifecycle</a>
      <a href="../insights/">Insights</a>
    </nav>
    <main class="section">
      <h1>Contracts as Algebras</h1>
      <p>
        Using “Categorical Semantics of Cyber‑Physical Systems Theory,” we read how contracts can be formalised as
        algebras over the wiring diagram operad. We then define safety requirements for the wall and roof
        (e.g., maximum load, compliance with building codes) as contracts, and compose them with the system
        behaviour using the wiring diagram.
      </p>
    </main>

    <section class="section">
      <h2>Wall + roof contracts</h2>
      <ul>
        <li><strong>Wall contract</strong>: maximum axial load, lateral shear limit, and adherence to local building code.</li>
        <li><strong>Roof contract</strong>: maximum distributed load, wind uplift threshold, and code-compliant fastening.</li>
      </ul>
      <p>
        Each contract is a predicate on inputs/outputs: given loads, materials, and geometry, it returns
        <em>true</em> exactly when the safety requirement holds.
      </p>
    </section>

    <section class="section">
      <h2>Wiring diagram composition</h2>
      <p>
        The wiring diagram composes the wall and roof behaviours, then the contracts algebra maps the diagram to
        a composite predicate that must hold for the integrated system.
      </p>
      <figure>
        <pre>
+-------------------+      +------------------+
|  Wall behaviour   |----->|  Roof behaviour  |
|  [Contract: W]    |      |  [Contract: R]   |
+-------------------+      +------------------+
          |                         |
          +-----------+-------------+
                      |
               +--------------+
               |  Building    |
               |  System      |
               | [W ⊗ R]      |
               +--------------+
        </pre>
        <figcaption>Boxes are annotated with contracts, and the wiring diagram composes them.</figcaption>
      </figure>
    </section>

    <section class="section">
      <h2>Contracts algebra (formalism)</h2>
      <p>
        Let <code>WD</code> be the wiring diagram operad and <code>Contracts</code> be the algebra of predicates. The contracts
        algebra maps wiring diagrams to predicates that must hold:
      </p>
      <pre>
⟦-⟧ : WD → Contracts
⟦wall⟧ = W(loads, materials, geometry)
⟦roof⟧ = R(loads, materials, fastening)
⟦compose(wall, roof)⟧ = W ⊗ R

System is safe iff ⟦diagram⟧(inputs, outputs) = true.
      </pre>
    </section>
  </div>
</body>
</html>
